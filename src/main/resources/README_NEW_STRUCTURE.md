# 지점별 키오스크 주문 + ERP 연동 + 본사 할인 프로모션 시스템

## 📋 시스템 개요

이 시스템은 **3개 지점(본사, 강남점, 홍대점)**에서 독립적으로 키오스크 주문을 처리하고, **본사에서 중앙 집중식으로 할인 프로모션을 관리**하며, **실시간 재고 관리 및 매출 분석**이 가능한 통합 ERP 시스템입니다.

## 🏗️ 시스템 구조

### 1. 지점 관리
- **본사 (HQ001)**: 중앙 관리 및 모니터링
- **강남점 (BR001)**: 프리미엄 가격 정책 (햄버거 10%, 세트 5% 가격 인상)
- **홍대점 (BR002)**: 할인 가격 정책 (햄버거 5%, 세트 2% 가격 할인)

### 2. 메뉴 시스템
- **버거**: 6종 (치즈버거, 불고기버거, 치킨버거, 더블버거, 베이컨버거, 새우버거)
- **세트**: 6종 (각 버거별 세트 메뉴)
- **사이드**: 8종 (감자튀김, 치킨너겟, 양념감자, 치즈스틱, 어니언링, 콘샐러드, 치킨윙, 나초)
- **음료**: 8종 (콜라, 사이다, 오렌지주스, 아메리카노, 제로콜라, 제로사이다, 레몬에이드, 밀크쉐이크)

### 3. 옵션 템플릿 시스템
- **기본버거옵션**: 치즈버거, 불고기버거용
- **프리미엄버거옵션**: 더블버거, 베이컨버거용
- **치킨버거옵션**: 치킨버거 전용
- **새우버거옵션**: 새우버거 전용
- **세트옵션**: 세트 메뉴 전용
- **사이드옵션**: 사이드 메뉴 전용
- **음료옵션**: 음료 전용

## 📁 파일 구조

### 00_init.sql
- 시스템 초기화 메인 파일
- 모든 SQL 파일을 순서대로 실행

### 01_schema.sql
- 기본 테이블 구조 생성
- 메뉴, 옵션, 지점, 주문, 결제, 매출 통계, 시스템 로그 테이블

### 02_branch_setup.sql
- 지점 정보 및 지점별 데이터베이스 설정
- 3개 지점 생성 및 기본 설정

### 03_menu_data.sql
- 메뉴 기본 데이터 (총 28개 메뉴)
- 카테고리별 메뉴 구성

### 04_option_templates.sql
- 옵션 템플릿 시스템 구축
- 메뉴별 옵션 템플릿 적용

### 05_option_data.sql
- 옵션 데이터 (토핑, 소스, 사이드, 음료 옵션)
- 템플릿별 옵션 관계 설정

### 06_inventory_system.sql
- 재고 관리 시스템
- 원재료, 지점별 재고, 메뉴별 소요량 설정

### 07_discount_system.sql
- 본사 할인 프로모션 시스템
- 계절별, 카테고리별, 지점별 할인 정책

### 08_branch_sample_data.sql
- 지점별 샘플 데이터
- 주문, 결제, 시스템 로그, 매출 통계 샘플

### 09_automation_functions.sql
- 자동화 함수 및 트리거
- 할인 적용, 매출 통계 업데이트, 재고 차감 자동화

## 🎯 주요 기능

### 1. 지점별 독립 운영
- 각 지점마다 독립적인 키오스크 주문 처리
- 지점별 커스텀 가격 정책 적용
- 지점별 재고 현황 관리

### 2. 본사 중앙 관리
- **할인 프로모션 중앙 집중 관리**
- 계절별 할인 (봄 20%, 여름 25%, 가을 15%, 겨울 30%)
- 특별 이벤트 할인 (연말연시 40%)
- 카테고리별 할인 (햄버거 20%, 세트 15%)
- 지점별 특별 할인 (홍대점 오픈 기념 50%)

### 3. 실시간 재고 관리
- 원재료별 소요량 자동 계산
- 주문 완료 시 재고 자동 차감
- 재고 부족 시 자동 알림

### 4. 매출 분석 시스템
- 일별/시간별 매출 통계
- 지점별 매출 비교
- 할인 프로모션 효과 분석

## 🚀 실행 방법

```sql
-- 1. MySQL 데이터베이스에 연결
mysql -u username -p database_name

-- 2. 초기화 파일 실행
SOURCE 00_init.sql;
```

## 📊 데이터 확인 쿼리

### 지점별 현황 확인
```sql
-- 지점별 메뉴 현황
SELECT * FROM branch_available_promotions;

-- 지점별 주문 현황
CALL GetBranchOrderSummary(30);

-- 지점별 재고 현황
SELECT * FROM low_stock_alert;
```

### 할인 프로모션 확인
```sql
-- 활성화된 할인 프로모션
CALL GetActivePromotions();

-- 할인 프로모션 통계
CALL GetPromotionStatistics('2024-01-01', '2024-12-31');
```

### 옵션 시스템 확인
```sql
-- 메뉴별 옵션 확인
CALL GetMenuOptions(1);  -- 치즈버거 옵션

-- 옵션 템플릿 요약
SELECT * FROM option_template_summary;
```

## 🔧 시스템 특징

1. **모듈화된 구조**: 각 기능별로 독립적인 파일로 구성
2. **자동화**: 주문 완료 시 재고 차감, 매출 통계 업데이트 자동화
3. **유연한 할인 시스템**: 퍼센트 기반 할인으로 다양한 프로모션 지원
4. **확장성**: 새로운 지점, 메뉴, 옵션 추가 용이
5. **데이터 무결성**: 외래키 제약조건과 트리거로 데이터 일관성 보장

## 📈 향후 확장 계획

- 고객 관리 시스템 (포인트, 등급)
- 공급업체 관리 시스템
- 인력 관리 시스템
- 고급 분석 대시보드
- 모바일 앱 연동
- AI 기반 수요 예측
